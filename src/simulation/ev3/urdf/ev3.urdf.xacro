<?xml version="1.0" ?>
<robot name="ev3" 
    xmlns:xacro="http://www.ros.org/wiki/xacro"
    xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller"
    xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface">

  <joint name="back_wheel_right" type="revolute">
    <parent link="wheel_chain_right"/>
    <child link="back_wheel"/>
    <origin rpy="1.57  0    0" xyz="0.0  0.0375 -0.03"/>
    <axis xyz="0.00000000e+00   0   -1"/>
    <mu value="0"/>
    <limit effort="-1.0" lower="-1.79769e+308" upper="1.79769e+308" velocity="-1.0"/>
  </joint>
  <joint name="left_chain_joint" type="fixed">
    <parent link="platform"/>
    <child link="wheel_chain_left"/>
    <origin rpy="0  0  0" xyz="-0.2 0.0375  0.024"/>
    <axis xyz="0  0  0"/>
    <limit effort="0" lower="0" upper="0" velocity="0"/>
  </joint>
  <joint name="right_chain_joint" type="fixed">
    <parent link="platform"/>
    <child link="wheel_chain_right"/>
    <origin rpy="0  0  0" xyz="-0.2 -0.0375  0.024"/>
    <axis xyz="0  0  0"/>
    <limit effort="0" lower="0" upper="0" velocity="0"/>
  </joint>
  <joint name="right_wheel" type="continuous">
    <parent link="platform"/>
    <child link="right_wheel"/>
    <origin rpy="1.57  0    0" xyz="0.25  -0.275  0.05"/>
    <axis xyz="0.00000000e+00   0   -1"/>
  </joint> 
  <joint name="left_wheel" type="continuous">
    <parent link="platform"/>
    <child link="left_wheel"/>
    <origin rpy="1.57  0    0" xyz="0.25  0.275  0.05"/>
    <axis xyz="0.00000000e+00   0   -1"/>
  </joint> 
  <link name="platform">
    <inertial>
      <mass value="1.5"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.166667" ixy="0" ixz="0" iyy="0.166667" iyz="0" izz="0.166667"/>
    </inertial>
    <collision name="platform_collision">
      <origin rpy="0  0  0" xyz="0.0 0.0 0.05"/>
      <geometry>
        <box size="0.5 0.5 0.02"/>
      </geometry>
    </collision>
    <visual name="platform_visual">
      <origin rpy="0  0  0" xyz="-0.0 -0.0 0.05"/>
      <geometry>
        <box size="0.5 0.5 0.02"/>
      </geometry>
    </visual>
  </link>

  <gazebo reference="platform">
    <material>LandingStation</material>
  </gazebo>

  <link name="wheel_chain_left">
    <inertial>
      <mass value="1"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.166667" ixy="0" ixz="0" iyy="0.166667" iyz="0" izz="0.166667"/>
    </inertial>
    <collision name="wheel_chain_right_collision">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <box size="0.05 -0.025 0.07"/>
      </geometry>
    </collision>
    <visual name="wheel_chain_right_visual">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <box size="0.05 0.025 0.07"/>
      </geometry>
    </visual>
  </link>
  <link name="wheel_chain_right">
    <inertial>
      <mass value="1"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.166667" ixy="0" ixz="0" iyy="0.166667" iyz="0" izz="0.166667"/>
    </inertial>
    <collision name="wheel_chain_right_collision">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <box size="0.05 0.025 0.07"/>
      </geometry>
    </collision>
    <visual name="wheel_chain_right_visual">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <box size="0.05 0.025 0.07"/>
      </geometry>
    </visual>
  </link>
  <link name="back_wheel">
    <inertial>
      <mass value="0.2"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.0" ixy="0" ixz="0" iyy="0.0" iyz="0" izz="0.0"/>
    </inertial>
    <collision name="back_wheel_collision">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.05" radius="0.045"/>
      </geometry>
    </collision>
    <visual name="back_wheel_visual">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.05" radius="0.045"/>
      </geometry>
    </visual>
  </link>
  <link name="right_wheel">
    <inertial>
      <mass value="0.2"/>
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <inertia ixx="0.145833" ixy="0" ixz="0" iyy="0.145833" iyz="0" izz="0.125"/>
    </inertial>
    <collision name="right_wheel_collision">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
    <visual name="right_wheel_visual">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </visual>
  </link>
  <link name="left_wheel">
    <inertial>
      <mass value="0.2"/>
      <origin rpy="0  0  0" xyz="0  0  0.0"/>
      <inertia ixx="0.145833" ixy="0" ixz="0" iyy="0.145833" iyz="0" izz="0.125"/>
    </inertial>
    <collision name="left_wheel_collision">
      <origin rpy="0  0  0" xyz="0  0  0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
    <visual name="left_wheel_visual">
      <origin rpy="0  0  0" xyz="0  0  -0.0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </visual>
  </link>

  <gazebo>
    <plugin name="ev3_control" filename="libev3_plugin.so">
    </plugin>
  </gazebo>

</robot>
